{% extends 'blog/base.html' %}
{% load i18n %}

{% block title %}Accueil - Blog Acad√©mique Universitaire{% endblock %}

{% block content %}
<!-- Section Hero avec fond color√© -->
<div
    class="bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800 rounded-2xl shadow-2xl p-12 mb-12 text-white relative overflow-hidden">
    <!-- √âl√©ments d√©coratifs de fond -->
    <div class="absolute inset-0 bg-black bg-opacity-10"></div>
    <div
        class="absolute top-0 right-0 w-64 h-64 bg-white bg-opacity-5 rounded-full transform translate-x-32 -translate-y-32">
    </div>
    <div
        class="absolute bottom-0 left-0 w-48 h-48 bg-white bg-opacity-5 rounded-full transform -translate-x-24 translate-y-24">
    </div>

    <!-- Contenu principal -->
    <div class="relative z-10 max-w-4xl mx-auto text-center">
        <!-- Titre principal -->
        <h1 class="text-5xl md:text-6xl font-bold mb-6 leading-tight">
            üìö {% trans "Blog Acad√©mique Universitaire"%}
        </h1>

        <!-- Sous-titre -->
        <p class="text-xl md:text-2xl text-blue-100 mb-10 leading-relaxed">
            {% trans "D√©couvrez des articles de recherche, des analyses, et des r√©flexions acad√©miques" %}
        </p>

        <!-- Barre de recherche -->
        <div class="max-w-2xl mx-auto">
            <form method="GET" action="{% url 'home' %}" class="relative">
                <div class="flex items-center bg-white rounded-full shadow-lg overflow-hidden">
                    <input type="text" name="search" value="{{ search_query|default:'' }}"
                        placeholder="Rechercher par titre ou auteur..."
                        class="flex-1 px-6 py-4 text-gray-900 text-lg focus:outline-none focus:ring-0 placeholder-gray-500">
                    <button type="submit"
                        class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 transition-colors duration-200 font-semibold">
                        üîç {% trans "Rechercher" %}
                    </button>
                </div>
            </form>

            <!-- Suggestions de recherche -->
            <div class="mt-4 flex flex-wrap justify-center gap-2">
                <span class="text-blue-200 text-sm">{% trans "Recherches populaires :" %}</span>
                <a href="?search=python"
                    class="bg-blue-500 bg-opacity-50 hover:bg-opacity-70 text-white px-3 py-1 rounded-full text-sm transition-all duration-200">
                    {% trans "Python" %}
                </a>
                <a href="?search=intelligence"
                    class="bg-blue-500 bg-opacity-50 hover:bg-opacity-70 text-white px-3 py-1 rounded-full text-sm transition-all duration-200">
                    {% trans "Intelligence Artificielle" %}
                </a>
                <a href="?search=recherche"
                    class="bg-blue-500 bg-opacity-50 hover:bg-opacity-70 text-white px-3 py-1 rounded-full text-sm transition-all duration-200">
                    {% trans "Recherche" %}
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Section des 4 cartes de statistiques -->
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
    <!-- Articles publi√©s -->
    <div
        class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-shadow duration-300">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-sm font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide">
                    {% trans "Articles publi√©s" %}
                </p>
                <p class="text-3xl font-bold text-blue-600 dark:text-blue-400 mt-2">
                    {{ stats.total_articles|default:0 }}
                </p>
                <p class="text-sm text-gray-500 dark:text-gray-500 mt-1">
                    {% trans "Total des publications" %}
                </p>
            </div>
            <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center">
                <span class="text-2xl">üìÑ</span>
            </div>
        </div>
    </div>

    <!-- Auteurs actifs -->
    <div
        class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-shadow duration-300">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-sm font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide">
                    {% trans "Auteurs actifs" %}
                </p>
                <p class="text-3xl font-bold text-green-600 dark:text-green-400 mt-2">
                    {{stats.total_auteurs|default:0}}
                </p>
                <p class="text-sm text-gray-500 dark:text-gray-500 mt-1">
                    {% trans "Contributeurs uniques" %}
                </p>
            </div>
            <div class="w-12 h-12 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center">
                <span class="text-2xl">üë•</span>
            </div>
        </div>
    </div>

    <!-- Lecteurs ce mois -->
    <div
        class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-shadow duration-300">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-sm font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide">
                    {% trans "Lectures totales" %}
                </p>
                <p class="text-3xl font-bold text-purple-600 dark:text-purple-400 mt-2">
                    {{stats.lecteurs_ce_mois|default:0}}</p>
                <p class="text-sm text-gray-500 dark:text-gray-500 mt-1">
                    {% trans "Vues des articles" %}
                </p>
            </div>
            <div class="w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center">
                <span class="text-2xl">üëÅÔ∏è</span>
            </div>
        </div>
    </div>

    <!-- Commentaires -->
    <div
        class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-shadow duration-300">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-sm font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide">
                    {% trans "Commentaires" %}
                </p>
                <p class="text-3xl font-bold text-orange-600 dark:text-orange-400 mt-2">
                    {{stats.total_commentaires|default:0}}</p>
                <p class="text-sm text-gray-500 dark:text-gray-500 mt-1">
                    {% trans "Total des interactions" %}
                </p>
            </div>
            <div class="w-12 h-12 bg-orange-100 dark:bg-orange-900 rounded-lg flex items-center justify-center">
                <span class="text-2xl">üí¨</span>
            </div>
        </div>
    </div>
</div>


<!-- Section des r√©sultats de recherche ou articles r√©cents -->
<div class="mb-12">
    {% if search_query %}
    <!-- R√©sultats de recherche -->
    <div class="mb-8">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-4">
            üîç {% trans "R√©sultats de recherche pour"%} "{{ search_query }}"
        </h2>
        <p class="text-gray-600 dark:text-gray-400 mb-6">
            {{ articles.count }} {% trans "r√©sultat"%}{{ articles.count|pluralize }} {% trans "trouv√©"%}{{ articles.count|pluralize }}
        </p>
    </div>

    {% if articles %}
    <div class="grid grid-cols-3 gap-4">
        {% for article in articles %}
        <article
            class="bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 overflow-hidden border border-gray-200 dark:border-gray-700">
            <!-- Image de l'article ou placeholder -->
            <div class="h-32 overflow-hidden">
                {% if article.image %}
                <img src="{{ article.image.url }}" alt="{{ article.titre }}"
                    class="w-full h-full object-cover transition-transform duration-300 hover:scale-105">
                {% else %}
                <div
                    class="w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center">
                    <div class="text-center text-gray-400 dark:text-gray-500">
                        <svg class="w-8 h-8 mx-auto mb-1" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd"
                                d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z"
                                clip-rule="evenodd"></path>
                        </svg>
                        <span class="text-xs font-medium">üìÑ {% trans "Article"%}</span>
                    </div>
                </div>
                {% endif %}
            </div>

            <div class="p-3">

                <h3 class="text-sm font-bold text-gray-900 dark:text-white mb-2 leading-tight line-clamp-2">
                    <a href="{% url 'detail_article' article.id %}"
                        class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200">
                        {{ article.titre }}
                    </a>
                </h3>

                <div class="flex items-center text-xs text-gray-500 dark:text-gray-400 mb-2">
                    {% if article.get_auteur_username %}
                    <a href="{% url 'profil_public' article.get_auteur_username %}" 
                       class="font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors duration-200 truncate">
                        {{ article.auteur|truncatechars:12 }}
                    </a>
                    {% else %}
                    <span class="font-medium truncate">{{ article.auteur|truncatechars:12 }}</span>
                    {% endif %}
                    <span class="mx-1">‚Ä¢</span>
                    <span>{{ article.date_creation|date:"d/m" }}</span>
                </div>

                <p class="leading-relaxed line-clamp-2">
                    {{ article.contenu|striptags|truncatechars:80 }}
                </p>

                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400">
                        <span class="flex items-center">
                            <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path>
                                <path fill-rule="evenodd"
                                    d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z"
                                    clip-rule="evenodd"></path>
                            </svg>
                            {{ article.nombre_vues }}
                        </span>
                        <span class="flex items-center">
                            üí¨ {{ article.commentaires.count }}
                        </span>
                    </div>
                    <a href="{% url 'detail_article' article.id %}"
                        class="bg-blue-600 text-white px-2 py-1 rounded text-xs hover:bg-blue-700 transition-colors duration-200 font-medium">
                        {% trans "Lire" %}
                    </a>
                </div>
            </div>
        </article>
        {% endfor %}
    </div>

    <!-- Pagination -->
    {% if articles.has_other_pages %}
    <div class="flex justify-center mt-12">
        <nav class="flex items-center space-x-2">
            {% if articles.has_previous %}
                <a href="?page={{ articles.previous_page_number }}{% if search_query %}&search={{ search_query }}{% endif %}" 
                   class="px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700 transition-colors duration-200">
                    ‚Üê {% trans "Pr√©c√©dent" %}
                </a>
            {% endif %}

            <span class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 rounded-lg">
                {% trans "Page" %} {{ articles.number }} {% trans "sur" %} {{ articles.paginator.num_pages }}
            </span>

            {% if articles.has_next %}
                <a href="?page={{ articles.next_page_number }}{% if search_query %}&search={{ search_query }}{% endif %}" 
                   class="px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700 transition-colors duration-200">
                    {% trans "Suivant" %} ‚Üí
                </a>
            {% endif %}
        </nav>
    </div>
    {% endif %}

    <!-- Bouton voir tous les articles -->
    <div class="text-center mt-8">
        <a href="{% url 'articles' %}"
            class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-4 rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 font-semibold text-lg shadow-lg">
            {% trans "Voir tous les articles" %} ({{ articles.paginator.count }})
        </a>
    </div>
    {% else %}
    <!-- Aucun r√©sultat de recherche -->
    <div
        class="bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-12 text-center">
        <div class="text-6xl mb-4">üîç</div>
        <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">{% trans "Aucun r√©sultat trouv√©" %}</h3>
        <p class="text-gray-600 dark:text-gray-400 mb-6">
            {% trans "Essayez avec d'autres mots-cl√©s ou consultez tous les articles" %}
        </p>
        <a href="{% url 'articles' %}"
            class="bg-blue-600 text-white px-8 py-4 rounded-xl hover:bg-blue-700 transition-colors duration-200 font-semibold text-lg">
            üìÑ {% trans "Voir tous les articles" %}
        </a>
    </div>
    {% endif %}
    {% else %}
    <!-- Articles r√©cents (quand pas de recherche) -->
    <div class="mb-8">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-4">
            üìÑ {% trans "Articles r√©cents" %}
        </h2>
        <p class="text-gray-600 dark:text-gray-400 mb-6">
            {% trans "D√©couvrez les derni√®res publications acad√©miques" %}
        </p>
    </div>

    {% if articles %}
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4">
        {% for article in articles %}
        <article
            class="bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 overflow-hidden border border-gray-200 dark:border-gray-700">
            <!-- Image de l'article ou placeholder -->
            <div class="h-32 overflow-hidden">
                {% if article.image %}
                <img src="{{ article.image.url }}" alt="{{ article.titre }}"
                    class="w-full h-full object-cover transition-transform duration-300 hover:scale-105">
                {% else %}
                <div
                    class="w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center">
                    <div class="text-center text-gray-400 dark:text-gray-500">
                        <svg class="w-8 h-8 mx-auto mb-1" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd"
                                d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z"
                                clip-rule="evenodd"></path>
                        </svg>
                        <span class="text-xs font-medium">üìÑ {% trans "Article" %}</span>
                    </div>
                </div>
                {% endif %}
            </div>

            <div class="p-3">
                {% if article.categorie %}
                <span class="inline-block px-2 py-1 text-xs font-semibold text-white rounded-full mb-2"
                    style="background-color: {{ article.categorie.couleur }};">
                    {{ article.categorie.nom }}
                </span>
                {% endif %}

                <!-- Tags -->
                {% if article.tags.all %}
                <div class="mb-2">
                    {% for tag in article.tags.all %}
                    <span class="inline-block px-1 py-0.5 text-xs font-medium rounded mr-1 mb-1"
                        style="background-color: {{ tag.couleur }}20; color: {{ tag.couleur }}; border: 1px solid {{ tag.couleur }};">
                        {{ tag.nom }}
                    </span>
                    {% endfor %}
                </div>
                {% endif %}

                <h3 class="text-sm font-bold text-gray-900 dark:text-white mb-2 leading-tight line-clamp-2">
                    <a href="{% url 'detail_article' article.id %}"
                        class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200">
                        {{ article.titre }}
                    </a>
                </h3>

                <div class="flex items-center text-xs text-gray-500 dark:text-gray-400 mb-2">
                    {% if article.get_auteur_username %}
                    <a href="{% url 'profil_public' article.get_auteur_username %}" 
                       class="font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors duration-200 truncate">
                        {{ article.auteur|truncatechars:12 }}
                    </a>
                    {% else %}
                    <span class="font-medium truncate">{{ article.auteur|truncatechars:12 }}</span>
                    {% endif %}
                    <span class="mx-1">‚Ä¢</span>
                    <span>{{ article.date_creation|date:"d/m" }}</span>
                </div>

                <p class="text-xs text-gray-700 dark:text-gray-300 mb-3 leading-relaxed line-clamp-2">
                    {{ article.contenu|striptags|truncatechars:80 }}
                </p>

                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400">
                        <span class="flex items-center">
                            <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path>
                                <path fill-rule="evenodd"
                                    d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z"
                                    clip-rule="evenodd"></path>
                            </svg>
                            {{ article.nombre_vues }}
                        </span>
                        <span class="flex items-center">
                            üí¨ {{ article.commentaires.count }}
                        </span>
                    </div>
                    <a href="{% url 'detail_article' article.id %}"
                        class="bg-blue-600 text-white px-2 py-1 rounded text-xs hover:bg-blue-700 transition-colors duration-200 font-medium">
                        {% trans "Lire" %}
                    </a>
                </div>
            </div>
        </article>
        {% endfor %}
    </div>

    <!-- Pagination -->
    {% if articles.has_other_pages %}
    <div class="flex justify-center mt-12">
        <nav class="flex items-center space-x-2">
            {% if articles.has_previous %}
                <a href="?page={{ articles.previous_page_number }}{% if search_query %}&search={{ search_query }}{% endif %}" 
                   class="px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700 transition-colors duration-200">
                    ‚Üê {% trans "Pr√©c√©dent" %}
                </a>
            {% endif %}

            <span class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 rounded-lg">
                {% trans "Page" %} {{ articles.number }} {% trans "sur" %} {{ articles.paginator.num_pages }}
            </span>

            {% if articles.has_next %}
                <a href="?page={{ articles.next_page_number }}{% if search_query %}&search={{ search_query }}{% endif %}" 
                   class="px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700 transition-colors duration-200">
                    {% trans "Suivant" %} ‚Üí
                </a>
            {% endif %}
        </nav>
    </div>
    {% endif %}

    <!-- Bouton voir tous les articles -->
    <div class="text-center mt-8">
        <a href="{% url 'articles' %}"
            class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-4 rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 font-semibold text-lg shadow-lg">
            {% trans "Voir tous les articles" %} ({{ articles.paginator.count }})
        </a>
    </div>
    {% else %}
    <!-- Aucun article -->
    <div
        class="bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-12 text-center">
        <div class="text-6xl mb-4">üìö</div>
        <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">{% trans "Aucun article publi√©" %}</h3>
        <p class="text-gray-600 dark:text-gray-400 mb-6">
            {% trans "Soyez le premier √† partager vos recherches et analyses acad√©miques !" %}
        </p>
        <a href="{% url 'ajouter_article' %}"
            class="bg-blue-600 text-white px-8 py-4 rounded-xl hover:bg-blue-700 transition-colors duration-200 font-semibold text-lg">
            ‚úçÔ∏è {% trans "Publier le premier article" %}
        </a>
    </div>
    {% endif %}
    {% endif %}
</div>


<!-- Section Tableau de Bord -->
<div class="mb-12">
    <div class="mb-8">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-4">
            üìä {% trans "Tableau de Bord" %}
        </h2>
        <p class="text-gray-600 dark:text-gray-400 mb-6">
            {% trans "Aper√ßu de l'activit√© r√©cente et des performances du blog" %}
        </p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- Articles les plus populaires -->
        <div
            class="lg:col-span-2 bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold text-gray-900 dark:text-white flex items-center">
                    üî• {% trans "Articles les plus populaires" %}
                </h3>
                <a href="{% url 'articles' %}" class="text-blue-600 hover:text-blue-700 text-sm font-medium">
                    {% trans "Voir tous" %} ‚Üí
                </a>
            </div>
            {% if stats.articles_populaires %}
            <div class="space-y-4">
                {% for article in stats.articles_populaires %}
                <div
                    class="flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200">
                    <div class="flex-shrink-0">
                        {% if article.image %}
                        <img src="{{ article.image.url }}" alt="{{ article.titre }}"
                            class="w-16 h-16 rounded-lg object-cover">
                        {% else %}
                        <div
                            class="w-16 h-16 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-600 dark:to-gray-700 rounded-lg flex items-center justify-center">
                            <span class="text-gray-400 text-sm">üìÑ</span>
                        </div>
                        {% endif %}
                    </div>
                    <div class="flex-1 min-w-0">
                        <h4 class="text-sm font-medium text-gray-900 dark:text-white truncate">
                            <a href="{% url 'detail_article' article.id %}" class="hover:text-blue-600">
                                {{ article.titre }}
                            </a>
                        </h4>
                        <p class="text-sm text-gray-500 dark:text-gray-400">{{ article.auteur }}</p>
                    </div>
                    <div class="flex items-center space-x-3 text-sm text-gray-500 dark:text-gray-400">
                        <span class="flex items-center">
                            <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path>
                                <path fill-rule="evenodd"
                                    d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z"
                                    clip-rule="evenodd"></path>
                            </svg>
                            {{ article.nombre_vues }}
                        </span>
                        <span class="flex items-center">
                            <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd"
                                    d="M18 13V5a2 2 0 00-2-2H4a2 2 0 00-2 2v8a2 2 0 002 2h3l3 3 3-3h3a2 2 0 002-2zM5 7a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1zm0 3a1 1 0 000 2h3a1 1 0 100-2H6z"
                                    clip-rule="evenodd"></path>
                            </svg>
                            {{ article.commentaires.count }}
                        </span>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <div class="text-center py-8">
                <div class="text-4xl mb-4">üìà</div>
                <p class="text-gray-600 dark:text-gray-400">{% trans "Aucune donn√©e de popularit√© disponible" %}</p>
                <p class="text-gray-500 text-sm">{% trans "Publiez des articles pour voir les statistiques" %}</p>
            </div>
            {% endif %}
        </div>

        <!-- Activit√© r√©cente -->
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold text-gray-900 dark:text-white flex items-center">
                    ‚ö° {% trans "Activit√© r√©cente" %}
                </h3>
            </div>
            {% if stats.activite_recente %}
            <div class="space-y-4">
                {% for activite in stats.activite_recente %}
                <div class="flex items-start space-x-3">
                    <div
                        class="flex-shrink-0 w-8 h-8 bg-{{ activite.couleur }}-100 dark:bg-{{ activite.couleur }}-900 rounded-full flex items-center justify-center">
                        <span class="text-{{ activite.couleur }}-600 dark:text-{{ activite.couleur }}-400 text-sm">
                            {{ activite.icone }}
                        </span>
                    </div>
                    <div class="flex-1 min-w-0">
                        <p class="text-sm text-gray-900 dark:text-white">{{ activite.description }}</p>
                        <p class="text-xs text-gray-500 dark:text-gray-400">{{ activite.date|timesince }} ago</p>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <div class="text-center py-8">
                <div class="text-4xl mb-4">üîÑ</div>
                <p class="text-gray-600 dark:text-gray-400">{% trans "Aucune activit√© r√©cente" %}</p>
                <p class="text-gray-500 text-sm">{% trans "L'activit√© appara√Ætra ici" %}</p>
            </div>
            {% endif %}
        </div>
    </div>

    <!-- Actions rapides -->
    <div
        class="mt-8 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-700">
        <div class="flex items-center justify-between">
            <div>
                <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-2">üöÄ {% trans "Actions rapides" %}</h3>
                <p class="text-gray-600 dark:text-gray-400 text-sm">{% trans "G√©rez votre blog en un clic" %}</p>
            </div>
            <div class="flex space-x-3">
                <a href="{% url 'ajouter_article' %}"
                    class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 font-medium text-sm flex items-center">
                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd"
                            d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                            clip-rule="evenodd"></path>
                    </svg>
                    {% trans "Nouvel article" %}
                </a>
                <a href="{% url 'categories' %}"
                    class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 font-medium text-sm flex items-center">
                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z">
                        </path>
                    </svg>
                    {% trans "Cat√©gories" %}
                </a>
                <a href="/admin/" target="_blank"
                    class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 font-medium text-sm flex items-center">
                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd"
                            d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"
                            clip-rule="evenodd"></path>
                    </svg>
                    {% trans "Admin" %}
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}